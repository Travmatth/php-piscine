<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Balloon</title>
        <style type="text/css">
            body {
                width: 100vw;
                height: 100vh;
                display: flex;
                align-items: center;
                align-content: center;
                justify-content: center;
                background-color: lightgrey;
            }
            div {
                width: 200px;
                height: 200px;
                background-color: red;
                border: 0px;
                border-radius: 50%;
            }
        </style>
        <script
            src="http://code.jquery.com/jquery-3.4.1.slim.min.js"
            integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8="
            crossorigin="anonymous">
        </script>

    </head>
    <body>
        <div id="ballon">
        </div>

        <script type="text/javascript">
            i = 0
            colors = ["red", "green", "blue"]
            nextBalloon = (balloon, diameter, color) => {
                balloon.css("height", diameter)
                balloon.css("width", diameter)
                balloon.css("backgroundColor", color)
            }
            onLeave = (balloon) => () => {
                console.log("there")
                diameter = balloon.outerHeight()
                diameter -= 5
                if (diameter < 200) {
                    diameter = 200
                }
                if (i === 0) i = 2
                else i -= 1
                nextBalloon(balloon, diameter, colors[i])
            } 
            onClick = (balloon) => {
                console.log("here")
                return () => {
                    console.log("here")
                    diameter = balloon.outerHeight()
                    diameter += 10
                    if (diameter > 420) {
                        diameter = 200
                    }
                    i = (i + 1) % 3
                    nextBalloon(balloon, diameter, colors[i])
                }
            }

            $(document).ready(() => {
                balloon = $("#balloon")
                console.log(balloon)
                $("#balloon").on("click", () => console.log("here"))
                // $("#balloon").click(() => console.log("foo"))
                $("#balloon").mouseleave(() => console.log("foo"))
                // balloon.click(onClick(balloon))
                balloon.mouseleave(onLeave(balloon))
            })
        </script>
    </body>
</html>